{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/bryanleongyongsheng/Desktop/goWhere Application/goWhere/screens/homescreens/CreateAccScreen.js\";\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Container, Header, Title, Content, Button, Item, Label, Input, Body, Left, Right, Icon, Form, Text, Stack, Center, NativeBaseProvider } from \"native-base\";\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nvar CreateAccount = function CreateAccount(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      username = _React$useState2[0],\n      onChangeUsername = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password1 = _React$useState4[0],\n      onChangePassword1 = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      password2 = _React$useState6[0],\n      onChangePassword2 = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      email = _React$useState8[0],\n      onChangeEmail = _React$useState8[1];\n\n  handlePress = function handlePress() {\n    if (email == \"\" || username == \"\" || password1 == \"\" || password2 == \"\") {\n      return Alert.alert(\"Please fill in missing fields.\");\n    } else if (!/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(email)) {\n      return Alert.alert(\"Please enter a valid email.\");\n    } else if (password1.length < 8) {\n      return Alert.alert(\"Password too short!\");\n    } else if (password1 != password2) {\n      return Alert.alert(\"Passwords mismatched. Please retype passwords.\");\n    }\n\n    var user = {\n      name: username,\n      email: email,\n      password: password1,\n      isAdmin: true\n    };\n    axios.post(baseURL + \"users/register\", user).then(function (res) {\n      if (res.status == 200) {\n        Alert.alert(\"Account successfully created!\", null, [{\n          text: \"OK\",\n          onPress: navigation.goBack()\n        }]);\n      }\n    }).catch(function (error) {\n      if (error.message == \"Request failed with status code 400\") {\n        return Alert.alert(\"Email is already in use.\");\n      }\n\n      Alert.alert(\"Something went wrong\");\n    });\n  };\n\n  return React.createElement(Container, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    style: {\n      backgroundColor: \"#bff6eb\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, React.createElement(Left, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    transparent: true,\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, React.createElement(Icon, {\n    name: \"arrow-back\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }))), React.createElement(Body, {\n    style: {\n      flex: 3\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, React.createElement(Title, {\n    style: {\n      fontSize: 17\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Create Account\")), React.createElement(Right, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  })), React.createElement(Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, React.createElement(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, React.createElement(Item, {\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Email Address\"), React.createElement(Input, {\n    onChangeText: function onChangeText(text) {\n      return onChangeEmail(text.toLowerCase());\n    },\n    value: email,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  })), React.createElement(Item, {\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Clique's Username\"), React.createElement(Input, {\n    onChangeText: function onChangeText(text) {\n      return onChangeUsername(text);\n    },\n    value: username,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), React.createElement(Item, {\n    floatingLabel: true,\n    last: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Password\"), React.createElement(Input, {\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      return onChangePassword1(text);\n    },\n    value: password1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  })), React.createElement(Item, {\n    floatingLabel: true,\n    last: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"Confirm Password\"), React.createElement(Input, {\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      return onChangePassword2(text);\n    },\n    value: password2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }))), React.createElement(Button, {\n    block: true,\n    style: {\n      margin: 15,\n      marginTop: 50\n    },\n    onPress: handlePress,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Create Account\"))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#bff6eb\"\n  }\n});\nexport default CreateAccount;","map":{"version":3,"sources":["/Users/bryanleongyongsheng/Desktop/goWhere Application/goWhere/screens/homescreens/CreateAccScreen.js"],"names":["React","Component","Container","Header","Title","Content","Button","Item","Label","Input","Body","Left","Right","Icon","Form","Text","Stack","Center","NativeBaseProvider","axios","baseURL","CreateAccount","navigation","useState","username","onChangeUsername","password1","onChangePassword1","password2","onChangePassword2","email","onChangeEmail","handlePress","Alert","alert","test","length","user","name","password","isAdmin","post","then","res","status","text","onPress","goBack","catch","error","message","styles","container","backgroundColor","flex","fontSize","toLowerCase","margin","marginTop","StyleSheet","create"],"mappings":"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","sourcesContent":["// Navigates here when Create Account button clicked from Welcome Screen\nimport React, { Component } from \"react\";\nimport { StyleSheet, Alert } from \"react-native\";\nimport {\n  Container,\n  Header,\n  Title,\n  Content,\n  Button,\n  Item,\n  Label,\n  Input,\n  Body,\n  Left,\n  Right,\n  Icon,\n  Form,\n  Text,\n  Stack,\n  Center,\n  NativeBaseProvider,\n} from \"native-base\";\n\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nconst CreateAccount = ({ navigation }) => {\n  // Read user input\n  const [username, onChangeUsername] = React.useState(\"\");\n  const [password1, onChangePassword1] = React.useState(\"\");\n  const [password2, onChangePassword2] = React.useState(\"\");\n  const [email, onChangeEmail] = React.useState(\"\");\n\n  // Alert if account created successfully\n  handlePress = () => {\n    if (email == \"\" || username == \"\" || password1 == \"\" || password2 == \"\") {\n      return Alert.alert(\"Please fill in missing fields.\");\n    } else if (!/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/.test(email)) {\n      return Alert.alert(\"Please enter a valid email.\");\n    } else if (password1.length < 8) {\n      return Alert.alert(\"Password too short!\");\n    } else if (password1 != password2) {\n      return Alert.alert(\"Passwords mismatched. Please retype passwords.\");\n    }\n    let user = {\n      name: username,\n      email: email,\n      password: password1,\n      isAdmin: true,\n    };\n\n    axios\n      .post(`${baseURL}users/register`, user)\n      .then((res) => {\n        if (res.status == 200) {\n          Alert.alert(\"Account successfully created!\", null, [\n            {\n              text: \"OK\",\n              onPress: navigation.goBack(),\n            },\n          ]);\n        }\n      })\n      .catch((error) => {\n        if (error.message == \"Request failed with status code 400\") {\n          // try to find better code?\n          return Alert.alert(\"Email is already in use.\");\n        }\n        Alert.alert(\"Something went wrong\");\n      });\n  };\n\n  return (\n    <Container style={styles.container}>\n      <Header style={{ backgroundColor: \"#bff6eb\" }}>\n        <Left>\n          <Button transparent onPress={() => navigation.goBack()}>\n            <Icon name=\"arrow-back\" />\n          </Button>\n        </Left>\n        <Body style={{ flex: 3 }}>\n          <Title style={{ fontSize: 17 }}>Create Account</Title>\n        </Body>\n        <Right />\n      </Header>\n\n      <Content>\n        <Form>\n          <Item floatingLabel>\n            <Label>Email Address</Label>\n            <Input\n              onChangeText={(text) => onChangeEmail(text.toLowerCase())}\n              value={email}\n            />\n          </Item>\n          <Item floatingLabel>\n            <Label>Clique's Username</Label>\n            <Input\n              onChangeText={(text) => onChangeUsername(text)}\n              value={username}\n            />\n          </Item>\n          <Item floatingLabel last>\n            <Label>Password</Label>\n            <Input\n              secureTextEntry\n              onChangeText={(text) => onChangePassword1(text)}\n              value={password1}\n            />\n          </Item>\n          <Item floatingLabel last>\n            <Label>Confirm Password</Label>\n            <Input\n              secureTextEntry\n              onChangeText={(text) => onChangePassword2(text)}\n              value={password2}\n            />\n          </Item>\n        </Form>\n        <Button\n          block\n          style={{ margin: 15, marginTop: 50 }}\n          onPress={handlePress}\n        >\n          <Text>Create Account</Text>\n        </Button>\n      </Content>\n    </Container>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#bff6eb\",\n  },\n});\n\nexport default CreateAccount;\n"]},"metadata":{},"sourceType":"module"}
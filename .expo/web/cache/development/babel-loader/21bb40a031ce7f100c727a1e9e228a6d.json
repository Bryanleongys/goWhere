{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/bryanleongyongsheng/Desktop/goWhere Application 2/goWhere/screens/homescreens/LoginScreen.js\";\n\nimport React, { Component, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Container, Header, Title, Content, Button, Item, Label, Input, Body, Left, Right, Icon, Form, Text } from \"native-base\";\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nvar LoginScreen = function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n  GLOBAL = require(\"../global\");\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var handleSubmit = function handleSubmit() {\n    if (email === \"\" || password === \"\") {\n      return Alert.alert(\"Please fill in missing fields.\");\n    }\n\n    var user = {\n      email: email,\n      password: password\n    };\n    axios.post(baseURL + \"users/login\", user).then(function (res) {\n      if (res.status == 200) {\n        console.log(\"Successful login!\");\n        GLOBAL.USER = res.data.user;\n        navigation.push(\"Home\");\n      }\n    }).catch(function (error) {\n      if (error.message == \"Request failed with status code 400\") {\n        Alert.alert(\"Incorrect password.\");\n      } else if (error.message == \"Request failed with status code 500\") {\n        Alert.alert(\"Account does not exist.\");\n      }\n    });\n  };\n\n  return React.createElement(Container, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    style: {\n      backgroundColor: \"#bff6eb\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, React.createElement(Left, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    transparent: true,\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, React.createElement(Icon, {\n    name: \"arrow-back\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }))), React.createElement(Body, {\n    style: {\n      flex: 3\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, React.createElement(Title, {\n    style: {\n      fontSize: 17\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Log In\")), React.createElement(Right, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })), React.createElement(Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, React.createElement(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, React.createElement(Item, {\n    floatingLabel: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Email Address\"), React.createElement(Input, {\n    name: \"email\",\n    id: \"email\",\n    value: email,\n    onChangeText: function onChangeText(text) {\n      return setEmail(text.toLowerCase());\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })), React.createElement(Item, {\n    floatingLabel: true,\n    last: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, React.createElement(Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Password\"), React.createElement(Input, {\n    name: \"password\",\n    id: \"password\",\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    secureTextEntry: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }))), React.createElement(Button, {\n    block: true,\n    style: {\n      margin: 15,\n      marginTop: 50\n    },\n    onPress: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Sign In\")), React.createElement(Button, {\n    onPress: function onPress() {\n      return navigation.navigate(\"ResetPassword\");\n    },\n    style: {\n      alignSelf: \"center\",\n      paddingBottom: 20\n    },\n    transparent: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \" Forgot Password? \"))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#bff6eb\"\n  }\n});\nexport default LoginScreen;","map":{"version":3,"sources":["/Users/bryanleongyongsheng/Desktop/goWhere Application 2/goWhere/screens/homescreens/LoginScreen.js"],"names":["React","Component","useState","Container","Header","Title","Content","Button","Item","Label","Input","Body","Left","Right","Icon","Form","Text","axios","baseURL","LoginScreen","navigation","GLOBAL","require","email","setEmail","password","setPassword","handleSubmit","Alert","alert","user","post","then","res","status","console","log","USER","data","push","catch","error","message","styles","container","backgroundColor","goBack","flex","fontSize","text","toLowerCase","margin","marginTop","navigate","alignSelf","paddingBottom","StyleSheet","create"],"mappings":"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","sourcesContent":["// Navigates here when Log In button is clicked on WelcomeScreen\nimport React, { Component, useState } from \"react\";\nimport { StyleSheet, ActivityIndicator, Alert } from \"react-native\";\nimport {\n  Container,\n  Header,\n  Title,\n  Content,\n  Button,\n  Item,\n  Label,\n  Input,\n  Body,\n  Left,\n  Right,\n  Icon,\n  Form,\n  Text,\n} from \"native-base\";\n\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nconst LoginScreen = ({ navigation }) => {\n  GLOBAL = require(\"../global\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = () => {\n    if (email === \"\" || password === \"\") {\n      return Alert.alert(\"Please fill in missing fields.\");\n    }\n\n    let user = {\n      email: email,\n      password: password,\n    };\n    axios\n      .post(`${baseURL}users/login`, user)\n      .then((res) => {\n        if (res.status == 200) {\n          console.log(\"Successful login!\");\n          GLOBAL.USER = res.data.user;\n          navigation.push(\"Home\");\n        }\n        // else if (res.status == 400)\n      })\n      .catch((error) => {\n        if (error.message == \"Request failed with status code 400\") {\n          Alert.alert(\"Incorrect password.\");\n        } else if (error.message == \"Request failed with status code 500\") {\n          Alert.alert(\"Account does not exist.\");\n        }\n      });\n  };\n  // else {\n  //   console.log(\"Successful login!\");\n  //   navigation.push(\"Home\");\n  //   }\n  // };\n\n  return (\n    <Container style={styles.container}>\n      <Header style={{ backgroundColor: \"#bff6eb\" }}>\n        <Left>\n          <Button transparent onPress={() => navigation.goBack()}>\n            <Icon name=\"arrow-back\" />\n          </Button>\n        </Left>\n        <Body style={{ flex: 3 }}>\n          <Title style={{ fontSize: 17 }}>Log In</Title>\n        </Body>\n        <Right />\n      </Header>\n\n      <Content>\n        <Form>\n          <Item floatingLabel>\n            <Label>Email Address</Label>\n            <Input\n              name={\"email\"}\n              id={\"email\"}\n              value={email}\n              onChangeText={(text) => setEmail(text.toLowerCase())}\n            />\n          </Item>\n          <Item floatingLabel last>\n            <Label>Password</Label>\n            <Input\n              name={\"password\"}\n              id={\"password\"}\n              value={password}\n              onChangeText={(text) => setPassword(text)}\n              secureTextEntry={true}\n            />\n          </Item>\n        </Form>\n        <Button\n          block\n          style={{ margin: 15, marginTop: 50 }}\n          onPress={handleSubmit}\n        >\n          <Text>Sign In</Text>\n        </Button>\n        <Button\n          onPress={() => navigation.navigate(\"ResetPassword\")}\n          style={{ alignSelf: \"center\", paddingBottom: 20 }}\n          transparent\n        >\n          <Text> Forgot Password? </Text>\n        </Button>\n      </Content>\n    </Container>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#bff6eb\",\n  },\n});\n\nexport default LoginScreen;\n"]},"metadata":{},"sourceType":"module"}
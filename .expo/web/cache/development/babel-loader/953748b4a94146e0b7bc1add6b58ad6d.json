{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/bryanleongyongsheng/Desktop/goWhere Application/goWhere/screens/travelscreens/SwipeElement.js\";\n\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { SwipeListView } from \"react-native-swipe-list-view\";\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nvar SwipeMemberElement = function SwipeMemberElement(_ref) {\n  var inputArray = _ref.inputArray;\n  GLOBAL = require(\"../global\");\n  var length = inputArray.length;\n\n  var _useState = useState(Array(length).fill(\"\").map(function (_, i) {\n    return {\n      key: \"\" + i,\n      text: inputArray[i].locationName\n    };\n  })),\n      _useState2 = _slicedToArray(_useState, 2),\n      listData = _useState2[0],\n      setListData = _useState2[1];\n\n  var closeRow = function closeRow(rowMap, rowKey) {\n    if (rowMap[rowKey]) {\n      rowMap[rowKey].closeRow();\n    }\n  };\n\n  var deleteRow = function deleteRow(rowMap, rowKey) {\n    closeRow(rowMap, rowKey);\n\n    var newData = _toConsumableArray(listData);\n\n    var prevIndex = listData.findIndex(function (item) {\n      return item.key === rowKey;\n    });\n    newData.splice(prevIndex, 1);\n    var inputDelete = {\n      locationName: inputArray[rowKey].locationName\n    };\n    axios.patch(baseURL + \"cliques/removefavourite/\" + GLOBAL.USER.cliqueID, inputDelete).then(function (res) {\n      if (res.status == 200) {\n        console.log(\"Successful deletion!\");\n      }\n    }).catch(function (error) {\n      console.log(\"Failed\");\n    });\n    setListData(newData);\n  };\n\n  var onRowDidOpen = function onRowDidOpen(rowKey) {\n    console.log(\"This row opened\", rowKey);\n  };\n\n  var renderItem = function renderItem(data) {\n    return React.createElement(TouchableHighlight, {\n      onPress: function onPress() {\n        return console.log(\"You touched me\");\n      },\n      style: styles.rowFront,\n      underlayColor: \"#fff\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, data.item.text)));\n  };\n\n  var renderHiddenItem = function renderHiddenItem(data, rowMap) {\n    return React.createElement(View, {\n      style: styles.rowBack,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: [styles.backRightBtn, styles.backRightBtnRight],\n      onPress: function onPress() {\n        return deleteRow(rowMap, data.item.key);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.backTextWhite,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, \"Delete\")));\n  };\n\n  return React.createElement(SwipeListView, {\n    data: listData,\n    renderItem: renderItem,\n    renderHiddenItem: renderHiddenItem,\n    leftOpenValue: 75,\n    rightOpenValue: -150,\n    previewRowKey: \"0\",\n    previewOpenValue: -40,\n    previewOpenDelay: 3000,\n    onRowDidOpen: onRowDidOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  });\n};\n\nvar styles = StyleSheet.create({\n  backTextWhite: {\n    color: \"#000\"\n  },\n  rowFront: {\n    paddingLeft: 20,\n    backgroundColor: \"#fff\",\n    borderBottomColor: \"#CCC\",\n    borderBottomWidth: 1,\n    justifyContent: \"center\",\n    height: 45\n  },\n  rowBack: {\n    alignItems: \"center\",\n    backgroundColor: \"#c8c8c8\",\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: 15\n  },\n  backRightBtn: {\n    alignItems: \"center\",\n    bottom: 0,\n    justifyContent: \"center\",\n    position: \"absolute\",\n    top: 0,\n    width: 150\n  },\n  backRightBtnLeft: {\n    backgroundColor: \"#c8c8c8\",\n    right: 75\n  },\n  backRightBtnRight: {\n    backgroundColor: \"red\",\n    right: 0\n  }\n});\nexport default SwipeMemberElement;","map":{"version":3,"sources":["/Users/bryanleongyongsheng/Desktop/goWhere Application/goWhere/screens/travelscreens/SwipeElement.js"],"names":["React","useState","SwipeListView","axios","baseURL","SwipeMemberElement","inputArray","GLOBAL","require","length","Array","fill","map","_","i","key","text","locationName","listData","setListData","closeRow","rowMap","rowKey","deleteRow","newData","prevIndex","findIndex","item","splice","inputDelete","patch","USER","cliqueID","then","res","status","console","log","catch","error","onRowDidOpen","renderItem","data","styles","rowFront","renderHiddenItem","rowBack","backRightBtn","backRightBtnRight","backTextWhite","StyleSheet","create","color","paddingLeft","backgroundColor","borderBottomColor","borderBottomWidth","justifyContent","height","alignItems","flex","flexDirection","bottom","position","top","width","backRightBtnLeft","right"],"mappings":"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","sourcesContent":["// List of locations for each date\nimport React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  TouchableHighlight,\n  View,\n} from \"react-native\";\n\nimport { SwipeListView } from \"react-native-swipe-list-view\";\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nconst SwipeMemberElement = ({ inputArray }) => {\n  GLOBAL = require(\"../global\");\n  var length = inputArray.length;\n  const [listData, setListData] = useState(\n    Array(length)\n      .fill(\"\")\n      .map((_, i) => ({ key: `${i}`, text: inputArray[i].locationName }))\n  );\n\n  const closeRow = (rowMap, rowKey) => {\n    if (rowMap[rowKey]) {\n      rowMap[rowKey].closeRow();\n    }\n  };\n\n  const deleteRow = (rowMap, rowKey) => {\n    closeRow(rowMap, rowKey);\n    const newData = [...listData];\n    const prevIndex = listData.findIndex((item) => item.key === rowKey);\n    newData.splice(prevIndex, 1);\n    let inputDelete = {\n      locationName: inputArray[rowKey].locationName,\n    };\n\n    axios\n      .patch(\n        `${baseURL}cliques/removefavourite/${GLOBAL.USER.cliqueID}`,\n        inputDelete\n      )\n      .then((res) => {\n        if (res.status == 200) {\n          console.log(\"Successful deletion!\");\n        }\n        // else if (res.status == 400)\n      })\n      .catch((error) => {\n        console.log(\"Failed\");\n      });\n    setListData(newData);\n  };\n\n  const onRowDidOpen = (rowKey) => {\n    console.log(\"This row opened\", rowKey);\n  };\n\n  const renderItem = (data) => (\n    <TouchableHighlight\n      onPress={() => console.log(\"You touched me\")}\n      style={styles.rowFront}\n      underlayColor={\"#fff\"}\n    >\n      <View>\n        <Text>{data.item.text}</Text>\n      </View>\n    </TouchableHighlight>\n  );\n\n  const renderHiddenItem = (data, rowMap) => (\n    <View style={styles.rowBack}>\n      <TouchableOpacity\n        style={[styles.backRightBtn, styles.backRightBtnRight]}\n        onPress={() => deleteRow(rowMap, data.item.key)}\n      >\n        <Text style={styles.backTextWhite}>Delete</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  return (\n    <SwipeListView\n      data={listData}\n      renderItem={renderItem}\n      renderHiddenItem={renderHiddenItem}\n      leftOpenValue={75}\n      rightOpenValue={-150}\n      previewRowKey={\"0\"}\n      previewOpenValue={-40}\n      previewOpenDelay={3000}\n      onRowDidOpen={onRowDidOpen}\n    />\n  );\n};\n\nconst styles = StyleSheet.create({\n  backTextWhite: {\n    color: \"#000\",\n  },\n  rowFront: {\n    paddingLeft: 20,\n    backgroundColor: \"#fff\",\n    borderBottomColor: \"#CCC\",\n    borderBottomWidth: 1,\n    justifyContent: \"center\",\n    height: 45,\n  },\n  rowBack: {\n    alignItems: \"center\",\n    backgroundColor: \"#c8c8c8\",\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: 15,\n  },\n  backRightBtn: {\n    alignItems: \"center\",\n    bottom: 0,\n    justifyContent: \"center\",\n    position: \"absolute\",\n    top: 0,\n    width: 150,\n  },\n  backRightBtnLeft: {\n    backgroundColor: \"#c8c8c8\",\n    right: 75,\n  },\n  backRightBtnRight: {\n    backgroundColor: \"red\",\n    right: 0,\n  },\n});\n\nexport default SwipeMemberElement;\n"]},"metadata":{},"sourceType":"module"}
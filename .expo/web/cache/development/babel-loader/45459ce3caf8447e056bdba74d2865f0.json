{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/bryanleongyongsheng/Desktop/goWhere Application 2/goWhere/screens/cliquescreens/SwipeMemberElement.js\";\n\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Content, Separator, Icon } from \"native-base\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { SwipeListView } from \"react-native-swipe-list-view\";\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nvar SwipeMemberElement = function SwipeMemberElement(_ref) {\n  var inputArray = _ref.inputArray,\n      navi = _ref.navi;\n  GLOBAL = require(\"../global\");\n  console.log(inputArray);\n  var length = inputArray.length;\n\n  var _useState = useState(Array(length).fill(\"\").map(function (_, i) {\n    return {\n      key: \"\" + i,\n      text: inputArray[i]\n    };\n  })),\n      _useState2 = _slicedToArray(_useState, 2),\n      listData = _useState2[0],\n      setListData = _useState2[1];\n\n  var closeRow = function closeRow(rowMap, rowKey) {\n    if (rowMap[rowKey]) {\n      rowMap[rowKey].closeRow();\n    }\n  };\n\n  var deleteRow = function deleteRow(rowMap, rowKey) {\n    closeRow(rowMap, rowKey);\n\n    var newData = _toConsumableArray(listData);\n\n    var prevIndex = listData.findIndex(function (item) {\n      return item.key === rowKey;\n    });\n    newData.splice(prevIndex, 1);\n    var inputDelete = {\n      name: inputArray[rowKey]\n    };\n    axios.patch(baseURL + \"cliques/removemember/60cba472c5923607e63bacd7\", inputDelete).then(function (res) {\n      if (res.status == 200) {\n        console.log(\"Successful login!\");\n      }\n    }).catch(function (error) {\n      console.log(\"Failed\");\n    });\n    console.log(\"New set data\");\n    setListData(newData);\n  };\n\n  var editRow = function editRow(rowMap, rowKey) {\n    closeRow(rowMap, rowKey);\n    navi.navigate(\"CliqueScreen3\");\n  };\n\n  var onRowDidOpen = function onRowDidOpen(rowKey) {\n    console.log(\"This row opened\", rowKey);\n  };\n\n  var renderItem = function renderItem(data) {\n    return React.createElement(TouchableHighlight, {\n      onPress: function onPress() {\n        return console.log(\"You touched me\");\n      },\n      style: styles.rowFront,\n      underlayColor: \"#00c6bb\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, data.item.text)));\n  };\n\n  var renderHiddenItem = function renderHiddenItem(data, rowMap) {\n    return React.createElement(View, {\n      style: styles.rowBack,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }), React.createElement(TouchableOpacity, {\n      style: [styles.backRightBtn, styles.backRightBtnRight],\n      onPress: function onPress() {\n        return deleteRow(rowMap, data.item.key);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.backTextWhite,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, \"Delete\")));\n  };\n\n  return React.createElement(SwipeListView, {\n    data: listData,\n    renderItem: renderItem,\n    renderHiddenItem: renderHiddenItem,\n    leftOpenValue: 75,\n    rightOpenValue: -75,\n    previewRowKey: \"0\",\n    previewOpenValue: -40,\n    previewOpenDelay: 3000,\n    onRowDidOpen: onRowDidOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  });\n};\n\nvar styles = StyleSheet.create({\n  backTextWhite: {\n    color: \"#000\"\n  },\n  rowFront: {\n    paddingLeft: 20,\n    backgroundColor: \"#bff6eb\",\n    borderBottomColor: \"#CCC\",\n    borderBottomWidth: 1,\n    justifyContent: \"center\",\n    height: 45\n  },\n  rowBack: {\n    alignItems: \"center\",\n    backgroundColor: \"#00c6bb\",\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: 15\n  },\n  backRightBtn: {\n    alignItems: \"center\",\n    bottom: 0,\n    justifyContent: \"center\",\n    position: \"absolute\",\n    top: 0,\n    width: 75\n  },\n  backRightBtnLeft: {\n    backgroundColor: \"#00c6bb\",\n    right: 75\n  },\n  backRightBtnRight: {\n    backgroundColor: \"red\",\n    right: 0\n  }\n});\nexport default SwipeMemberElement;","map":{"version":3,"sources":["/Users/bryanleongyongsheng/Desktop/goWhere Application 2/goWhere/screens/cliquescreens/SwipeMemberElement.js"],"names":["React","useState","Content","Separator","Icon","useNavigation","SwipeListView","axios","baseURL","SwipeMemberElement","inputArray","navi","GLOBAL","require","console","log","length","Array","fill","map","_","i","key","text","listData","setListData","closeRow","rowMap","rowKey","deleteRow","newData","prevIndex","findIndex","item","splice","inputDelete","name","patch","then","res","status","catch","error","editRow","navigate","onRowDidOpen","renderItem","data","styles","rowFront","renderHiddenItem","rowBack","backRightBtn","backRightBtnRight","backTextWhite","StyleSheet","create","color","paddingLeft","backgroundColor","borderBottomColor","borderBottomWidth","justifyContent","height","alignItems","flex","flexDirection","bottom","position","top","width","backRightBtnLeft","right"],"mappings":"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","sourcesContent":["// List of locations for each date\nimport React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  TouchableHighlight,\n  View,\n} from \"react-native\";\n\nimport { Content, Separator, Icon } from \"native-base\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nimport { SwipeListView } from \"react-native-swipe-list-view\";\nimport axios from \"axios\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nconst SwipeMemberElement = ({ inputArray, navi }) => {\n  GLOBAL = require(\"../global\");\n  console.log(inputArray);\n  var length = inputArray.length;\n  const [listData, setListData] = useState(\n    Array(length)\n      .fill(\"\")\n      .map((_, i) => ({ key: `${i}`, text: inputArray[i] }))\n  );\n\n  const closeRow = (rowMap, rowKey) => {\n    if (rowMap[rowKey]) {\n      rowMap[rowKey].closeRow();\n    }\n  };\n\n  const deleteRow = (rowMap, rowKey) => {\n    closeRow(rowMap, rowKey);\n    const newData = [...listData];\n    const prevIndex = listData.findIndex((item) => item.key === rowKey);\n    newData.splice(prevIndex, 1);\n\n    //console.log(inputArray[0])\n    let inputDelete = {\n      name: inputArray[rowKey],\n    };\n\n    axios\n      .patch(\n        `${baseURL}cliques/removemember/60cba472c5923607e63bacd7`,\n        inputDelete\n      )\n      .then((res) => {\n        if (res.status == 200) {\n          console.log(\"Successful login!\");\n        }\n        // else if (res.status == 400)\n      })\n      .catch((error) => {\n        console.log(\"Failed\");\n      });\n\n    // GLOBAL.TRAVELHISTORY[date].splice(prevIndex, 1);\n    // if (GLOBAL.TRAVELHISTORY[date].length == 0) {\n    //   delete GLOBAL.TRAVELHISTORY[date];\n    // }\n    console.log(\"New set data\");\n    setListData(newData);\n  };\n\n  const editRow = (rowMap, rowKey) => {\n    closeRow(rowMap, rowKey);\n    navi.navigate(\"CliqueScreen3\");\n  };\n\n  const onRowDidOpen = (rowKey) => {\n    console.log(\"This row opened\", rowKey);\n  };\n\n  const renderItem = (data) => (\n    <TouchableHighlight\n      onPress={() => console.log(\"You touched me\")}\n      style={styles.rowFront}\n      underlayColor={\"#00c6bb\"}\n    >\n      <View>\n        <Text>{data.item.text}</Text>\n      </View>\n    </TouchableHighlight>\n  );\n\n  const renderHiddenItem = (data, rowMap) => (\n    <View style={styles.rowBack}>\n      <Text></Text>\n      {/* <TouchableOpacity\n        style={[styles.backRightBtn, styles.backRightBtnLeft]}\n        onPress={() => editRow(rowMap, data.item.key)}\n      >\n        <Text style={styles.backTextWhite}>Edit</Text>\n      </TouchableOpacity> */}\n      <TouchableOpacity\n        style={[styles.backRightBtn, styles.backRightBtnRight]}\n        onPress={() => deleteRow(rowMap, data.item.key)}\n      >\n        <Text style={styles.backTextWhite}>Delete</Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  //console.log(inputArray);\n  return (\n    <SwipeListView\n      data={listData}\n      renderItem={renderItem}\n      renderHiddenItem={renderHiddenItem}\n      leftOpenValue={75}\n      //rightOpenValue={-150}\n      rightOpenValue={-75}\n      previewRowKey={\"0\"}\n      previewOpenValue={-40}\n      previewOpenDelay={3000}\n      onRowDidOpen={onRowDidOpen}\n    />\n  );\n};\n\nconst styles = StyleSheet.create({\n  backTextWhite: {\n    color: \"#000\",\n  },\n  rowFront: {\n    paddingLeft: 20,\n    backgroundColor: \"#bff6eb\",\n    borderBottomColor: \"#CCC\",\n    borderBottomWidth: 1,\n    justifyContent: \"center\",\n    height: 45,\n  },\n  rowBack: {\n    alignItems: \"center\",\n    backgroundColor: \"#00c6bb\",\n    flex: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingLeft: 15,\n  },\n  backRightBtn: {\n    alignItems: \"center\",\n    bottom: 0,\n    justifyContent: \"center\",\n    position: \"absolute\",\n    top: 0,\n    width: 75,\n  },\n  backRightBtnLeft: {\n    backgroundColor: \"#00c6bb\",\n    right: 75,\n  },\n  backRightBtnRight: {\n    backgroundColor: \"red\",\n    right: 0,\n  },\n});\n\nexport default SwipeMemberElement;\n"]},"metadata":{},"sourceType":"module"}